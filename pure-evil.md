# Чистое зло - void*
## Что такое void и зачем он нужен
В Си (и C++) void - это один из возможны спецификаторов типа. Вы можете объявить переменную типа int (и таким образом фактически выделить в стеке памяти 4 байта, с которыми потом можно как-то взаимодействиовать), однако вы никак не можете объявить переменную типа void.
Этот спецификатор может быть использован для разных нужд.
1. С помощью него можно указать, что ваша функция не имеет возвращаемого значения:
```c
void FuncWithoutResult(int b) {
    ...
}
```
2.  С помощью него можно указать, что у функции нет входных аргументов:
```c
int SomeFuncWithoutArguments(void) {
    return 1;
}
```
Впрочем, это не обязательно. Такая запись будет эквивалентна следующей:
```c
int SomeFuncWithoutArguments() {
    return 1;
}
```
3. Иногда `void` используют для отказа от значения выражения, например так
```c
int a = 0;
int b = ++a; // Так работает
(void)++a;  // Так работает
int c = (void)++a; // Так не работает
```
Этот паттерн используют преимущественно при работе с макросами (`#define update_ptr() ((void)ptr++)`), и это уже выходит за пределы нашего курса.
4. Самое страшное - его использую как указатель на область памяти. Об этом и поговорим далее.

## Что такое void* и зачем он (не) нужен
В отличие от `void`, который буквально переводится как "пустота" и не является допустимым типом данных, `void*` - это, наоборот, тип, к которому может быть приведен любой указатель.
```c
char a = 0
int b = 0;
typedef struct TMyStruct {
    ...
} myStructEntry;

void* voidPtr;
voidPtr = &a; // Так можно
voidPtr = &b; // Так можно
voidPtr = &myStructEntry; // Так можно
```
С одной стороны, использование `void*` позволяет удобно обобщать множество однотипных функций.
Например, можно реализовать несколько функций `swap` для каждого типа данных:
```c
void swapInt(int* a, int *b) {
    int tmp = *a;
    *a = *b;
    *b = tmp;
}

void swapChar(char* a, char *b) {
    char tmp = *a;
    *a = *b;
    *b = tmp;
}

void swapLongLong(long long* a, long long* b) {
...
```
А можно написать одну универсальную функцию с использованием `void*`:
```c
void swap(void *a, void *b, size_t size) {
    ...
}

int main() {
    int a = 0;
    int b = 1;
    swap(&a, &b, sizeof(int));
}
```
О том, как должна выглядеть такая функция, мы поговорим ниже. 
А пока, давайте разберемся как этот самый `void*` работает. Уже не дожно быть секретом, что любой указатель, будь то `char*` или `int*` *указывает* на некоторую область памяти.
Задавая тип указателя, мы явно задаем и размер блока памяти, на который будет указывать переменная. Например `char*` указывает на блок памяти размера 1 байт, а `int*` - на блок размера 4 байта.



